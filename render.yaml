services:
  - type: web
    name: studio-knowledge-hub-api
    env: docker
    rootDir: backend
    dockerfilePath: ./Dockerfile
    healthCheckPath: /health
    autoDeploy: true
    envVars:
      - key: APP_ENV
        value: production
      - key: DATA_DIR
        value: app_data
      - key: STORAGE_PROVIDER
        value: supabase
      - key: SUPABASE_STORAGE_BUCKET
        value: legal-examples
      - key: EMBEDDING_DIM
        value: "1536"
      - key: CORS_ORIGINS
        value: https://YOUR_VERCEL_DOMAIN.vercel.app
      - key: DATABASE_URL
        sync: false
      - key: JWT_SECRET
        sync: false
      - key: OPENAI_API_KEY
        sync: false
      - key: NOTION_API_KEY
        sync: false
      - key: INTEGRATION_KEY
        sync: false
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_SERVICE_ROLE_KEY
        sync: false

